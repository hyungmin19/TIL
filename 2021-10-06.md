10월 6일 한국클라우드

고객사 목록 : TalkMngAspCustList
게시판 생성 관리 : TwbBbs01
사용자 관리 : TwbBas01


타임리프 -> view template 
https://blog.naver.com/PostView.nhn?isHttpsRedirect=true&blogId=bgpoilkj&logNo=221982228705&parentCategoryNo=20&categoryNo=&viewDate=&isShowPopularPosts=false&from=postView

https://dev-overload.tistory.com/25
src/main/resources/
templates.layout


[Q]
*HTML 코드 -> springboot tomcat server 연결 과정
*HTTP 404 not found
=> 서버 오류라고 생각하시는 분들도 계시겠지만, 해당 오류는 서버 자체는 존재하지만 서버에서 요청한 것을 찾을 수 없을 때 나타납니다.
보통 HTTP에서 사용자가 요청하는 페이지나 파일을 찾을 수 없을 때 가장 많이 발생하는데요.
유저의 인터넷 환경 문제가 아닌 사이트 제공자의 서버에 요청한 페이지가 없거나, 데이터가 없을 경우 나타나며,
가장 자주 발생하는 원인은 페이지가 이동되거나 삭제된 경

=>Controller, js, html 위치 설정을 제대로 하지 못해서 404 not found가 뜸
Src/main/java -> mng -> server -> web -> TalkMngServerController.java
Src/main/resources/templates/mng -> server -> TalkMngServer.html
Src/main/resources/static/mng/server/js -> TalkMngServer.js



js파일에서 TalkMngServer.html -> TalkMngServer.js로 이어주고 
해당하는 서버 목록에 대한 정보들을 넣어야 한다.


신규, 상세 페이지 버튼으로 연결 지어야 한다.
버튼 => js 통해 이벤트 일어났을 때 가져오는 결과 값


콤보박스 => 선택하려는 데이터가 js or DB에 있어야 할 듯.
Html에 연결된 js로 넘어가서 js파일 바꿔보기

콤보박스 DB 넣기
[상담이력관리 페이지]
조회기간 – 상담요청일시
<div class="tt-cols">
								<select id="SRH_DTTM" name="SRH_DTTM" class="twbCombo is-col-fix" style="width:105px;" title="기간"></select>
								<input type="text" name="SEARCH_FROM" id="SEARCH_FROM" class="twbInput class_datepicker mandatory" value="" title="시작일자" placeholder="시작일자" maxlength="10" rangeId="SEARCH_FROM_DHXC" maxTerm="62" />
								<span class="tt-unit">~</span>
								<input type="text" name="SEARCH_TO" id="SEARCH_TO" class="twbInput class_datepicker mandatory" value="" title="종료일자" placeholder="종료일자" maxlength="10" rangeId="SEARCH_TO_DHXC" maxTerm="62"/>
							</div>
접수채널 – 선택
<select id="SRH_CALL_TYP_CD" name="SRH_CALL_TYP_CD" class="twbCombo" title="접수채널"></select>
문의유형 – 전체
<select name="SRH_INQRY_TYP_CD" id="SRH_INQRY_TYP_CD" class="twbCombo" title="문의유형1"></select>
								<select name="SRH_INQRY_TYP_CD_2" id="SRH_INQRY_TYP_CD_2" class="twbCombo" title="문의유형2"></select>	
상담유형 – 전체
<div class="tt-cols">
								<select name="SRH_CNSL_TYP_CD" id="SRH_CNSL_TYP_CD" class="twbCombo" title="상담유형1"></select>	
								<select name="SRH_CNSL_TYP_CD_2" id="SRH_CNSL_TYP_CD_2" class="twbCombo" title="상담유형2"></select>								
							</div>
상담상태 – 전체
<select id="TALK_STAT_CD" name="TALK_STAT_CD" class="twbCombo" title="처리상태"></select>
카카오톡채널 – 전체
<select name="SRH_ASP_SENDER_KEY" id="SRH_ASP_SENDER_KEY" class="twbCombo" title="카카오톡 채널"></select>
상담사 – ID
<select id="SRH_USER" name="SRH_USER" class="twbCombo is-col-fix" style="width:70px;" title="상담사"></select>


colNames:
["고객사", "시스템명","서버종류","OS유형","OS버전","WAS 유형","물리 서버 IP 정보","활성화 여부"
				],


콤보박스 -> 공통코드 올려서 OS유형, WAS유형, 활성화여부, 서버유형 -> 이거 통해서 선택할 수 있게끔 구현



활성화여부 -> 공통코드 사용여부 이용 - TWB001
OS 유형 -> 공통코드 OS 유형 이용 - OSTYPE
WAS 유형 -> 공통코드 WAS 유형 이용 - WASTYPE
서버 종류 -> 공통코드 서버종류 이용 – SVTYPE

콤보박스 진행하기 위해서는 js에서 colNames와 colModel부분을 맞춰서 해주어야 한다.
 
[순서]
맨 윗단에 파라메터  정의
 

콤보박스 정의
 

이렇게 3가지에 들어감.


Q. JS에서 그리드 설정하면서 name과 index할 때 다른 테이블에서 가져오는 값을 ID로 가져오는 것이 맞는지 아니면 OOO명 이렇게 가져오는 것이 맞는지?
Q.  js파일 중 검색조건 콤보박스 세팅을 보면
 
이와 같이 SRH_ASP_SENDER_KEY, TALK_STAT_CD, SRH_DTTM, SRH_CALL_TYP_CD가 있는데 
이게 어디있는거지?
일단 오른쪽의 objComboData의 getDataObject (공통코드) 같은데 공통코드 명은 다 바꿨다. 
TELETALK 공통코드에 등록해놓은대로 바꿈.

	이거 컨트롤 + h 눌러서 모든 js파일에서 다 찾아서 확인해보면 된다. 


버튼 같은 경우 defineform에서 01 02둘다 같이 권한을 주어야 저장 버튼이 나온다.

QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ
js파일에서 EVENT Object : 화면에 이 부분에서 
selectRtnAspCustList 이거 !!!!!!!!!!
 

QQQQQQ
=> 신규, 상세 버튼을 눌렀을 때 팝업이 나오는 과정이 기존의 사용자관리의 html과 js코드를 참고해서 해도 안된다.
어떤 것이 문제일까?


+ id 중복일어나서 바꿔야할 것 같음. 
+name은 중복이 있어도 병렬처리로 해결하면 된다.
html의 id 중복값으로 인해 안나오는 것 같다..?
TalkMngServer.html
<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>서버목록</title>
<!-- 공통 컴포넌트 관련파일 include -->
<th:block th:include="fragments/headerinc"></th:block>
<!-- 해당 화면 script파일 include -->
<script src="/common/js/SystemIDCommon.js"></script>
<script src="/mng/server/web/TalkMngServer.js"></script>
<script src="/common/js/TwbCommon.js"></script>
<!-- 프로젝트에 맞게 공통 스크립트를 확장하여 링크한다. -->

<style type="text/css">
</style>
</head>
<body>
<input type="hidden" name="DATA_FLAG" id="DATA_FLAG"/>

	<div class="tt-container">
		<div class="twb-ui-box-head">
			<h1 id="spanMenuTitle">서버목록</h1>
			<div class="actions">
			</div>
		</div>
		<form action="#" method="POST" class='twb-ui-search-form' id="serRegist" name="serRegist">
			<table>
				<colgroup>
					<col width="50px">
					<col width="160px"> <!-- 원래 220px -->
					<col width="6%">
					<col width="220px"> <!-- 원래 150px -->
					<col width="6%">
					<col width="300px"> <!-- 원래 150px -->
					<col width="6%">
					<col width="230px"> <!-- 원래 150px -->
					<col>
				</colgroup>
				<tbody>
					<tr>
						<th><label>서버종류</label></th>
						<td>
							<select name="SRH_CNSL_TYP_CD_2" id="SRH_CNSL_TYP_CD_2" class="twbCombo" title="서버종류"></select>
							<!-- <select name="SRH_CNSL_TYP_CD_2" id="SRH_CNSL_TYP_CD_2" class="twbCombo" title="상담유형2"></select> -->
						</td>
						<th><label>고객사명</label></th>
						<td><input type="text" name="SEARCH_COMPANY_NM" id="SEARCH_COMPANY_NM" class="twbInput ime_mode_kor" value="" title="고객사명" placeholder="고객사명" maxlength="60" /></td>
						<th><label>시스템명</label></th>
						<td><input type="text" name="SEARCH_REGR_ID" id="SEARCH_REGR_ID" class="twbInput" value="" title="등록자ID" placeholder="등록자ID" maxlength="60" /></td>
						<th><label>활성화여부</label></th>
						<td>
							<select name="SRH_ASP_SENDER_KEY" id="SRH_ASP_SENDER_KEY" class="twbCombo" title="활성화여부"></select>
							<!-- <select name="SRH_ASP_SENDER_KEY" id="SRH_ASP_SENDER_KEY" class="twbCombo" title="카카오톡 채널"></select> -->
						</td>						
					</tr>
					<tr>
						<th><label>OS유형</label></th>
						<td>
							<select name="SRH_CNSL_TYP_CD" id="SRH_CNSL_TYP_CD" class="twbCombo" title="OS유형"></select>
							<!-- <select name="SRH_CNSL_TYP_CD" id="SRH_CNSL_TYP_CD" class="twbCombo" title="상담유형1"></select> -->
						</td>
						<th><label>OS버전</label></th>
						<td><input type="text" name="SEARCH_COMPANY_NM" id="SEARCH_COMPANY_NM" class="twbInput ime_mode_kor" value="" title="OS버전" placeholder="OS버전" maxlength="60" /></td>
						<th><label>WAS유형</label></th>
						<td>
							<select name="SRH_CNSL_TYP_CD" id="SRH_CNSL_TYP_CD_3" class="twbCombo" title="WAS유형"></select>
							<!-- <select name="SRH_CNSL_TYP_CD" id="SRH_CNSL_TYP_CD_3" class="twbCombo" title="상담유형3"></select> -->
						</td>
						<th><label>WAS버전</label></th>
						<td><input type="text" name="SEARCH_REGR_NM" id="SEARCH_REGR_NM" class="twbInput ime_mode_kor" value="" title="WAS버전" placeholder="WAS버전" maxlength="300" /></td>						
						<td class="has-search"><button type="button" class="tt-btn is-search" id="btnSearch">조회</button></td>
					</tr>
				</tbody>
			</table>
		</form>
		
		<div class="twb-ui-box-head">
			<h1 id="spanMenuTitle">서버현황</h1>
			<div class="actions">
				<button type="button" class="tt-btn" id="btnNew">신규</button>
				<button type="button" class="tt-btn" id="btnDetail">상세</button>
				<button type="button" class="tt-btn is-fill" id="btnDelete">비활성화</button>
			</div>
		</div>
		<div class="tt-grid-frame"><div id="divGrid01" gridTitle="서버목록"></div></div>
	</div>
	
	<!-- 서버 신규등록 다이얼로그 시작 -->
	<div id="divServerDetailDialog" style="display:none;">
		<div class="tt-window-body">
			<form id="serRegist" name="serRegist" action="#" method="POST" class='twb-ui-form'>
				<table>
					<colgroup>
						<col width="120px">
						<col>
						<col width="120px">
						<col>
					</colgroup>
					<tr>
						<th><label class="is-required">고객사명</label></th>
						<td>
							<input type="text" name="CLIENT_NAME" id="CLIENT_NAME" class="twbInput mandatory" style="width:100%; ime-mode:disabled;" title="사용자ID" placeholder="사용자ID" maxlength="20"/>
						</td>
						<th><label class="is-required">시스템명</label></th>
						<td>
							<input type="text" name="SYSTEM_NAME" id="SYSTEM_NAME" class="twbInput mandatory" style="width:100%; ime-mode:active;" title="성명" placeholder="성명" maxlength="50"/>
						</td>						
					</tr>
					<tr>
						<th><label class="is-required">물리서버 IP정보</label></th>
						<td>
							<input type="text" name="SERVER_IP" id="SERVER_IP" class="twbInput mandatory" title="사용자 닉네임" placeholder="사용자 닉네임" maxlength="50"/>
						</td>							
						<th><label class="is-required">서버IP접속 ID</label></th>
						<td>
							<select name="SERVER_ID" id="SERVER_ID" class="twbCombo mandatory" title="사용여부"></select>
						</td>
					</tr>
					
					<tr>
						<th><label class="is-required">서버IP접속 PW</label></th>
						<td colspan="3">
							<div class="tt-cols">
								<select name="SERVER_PW" id="SERVER_PW" class="twbCombo mandatory" title="사용자소속A"></select>
							</div>
						</td>
					</tr>
					<tr>
	                  <th><label class="is-required">서버종류</label></th>
	                  <td>
	                     <select name="SERVER_TYPE" id="SERVER_TYPE" class="twbCombo mandatory" title="권한그룹명"></select>
	                  </td>
	                  <td colspan="2"></td>
	               </tr>
				</table>
			</form>	
			<div class="tt-info-box"><p class="tt-info-txt">서버 초기 비밀번호는 "<em>사용자ID + 1!</em>" 입니다.</p></div>
		</div>
	</div>			
	<!-- 서버 신규등록 다이얼로그 끝 -->
	
	<!-- 서버 상세정보 다이얼로그 시작 -->
	<div id="divServerDetailDialog" title="서버 상세정보" style="display:none;">
		<div class="tt-window-body">
			<form id="serDetail" name="serDetail" action="#" method="POST" class='twb-ui-form'>
				<table>
					<colgroup>
						<col width="120px">
						<col>
						<col width="120px">
						<col>
					</colgroup>
					<tr>
						<th><label class="is-required">고객사명</label></th>
						<td>
							<input type="text" name="CLIENT_NAME" id="CLIENT_NAME" class="twbInput mandatory" style="width:100%; ime-mode:disabled;" title="사용자ID" placeholder="사용자ID" maxlength="20"/>
						</td>
						<th><label class="is-required">시스템명</label></th>
						<td>
							<input type="text" name="SYSTEM_NAME" id="SYSTEM_NAME" class="twbInput mandatory" style="width:100%; ime-mode:active;" title="성명" placeholder="성명" maxlength="50"/>
						</td>						
					</tr>
					<tr>
						<th><label class="is-required">물리서버 IP정보</label></th>
						<td>
							<input type="text" name="SERVER_IP" id="SERVER_IP" class="twbInput mandatory" title="사용자 닉네임" placeholder="사용자 닉네임" maxlength="50"/>
						</td>							
						<th><label class="is-required">서버IP접속 ID</label></th>
						<td>
							<select name="SERVER_ID" id="SERVER_ID" class="twbCombo mandatory" title="사용여부"></select>
						</td>
					</tr>
					
					<tr>
						<th><label class="is-required">서버IP접속 PW</label></th>
						<td colspan="3">
							<div class="tt-cols">
								<select name="SERVER_PW" id="SERVER_PW" class="twbCombo mandatory" title="사용자소속A"></select>
							</div>
						</td>
					</tr>
					<tr>
	                  <th><label class="is-required">서버종류</label></th>
	                  <td>
	                     <select name="SERVER_TYPE" id="SERVER_TYPE" class="twbCombo mandatory" title="권한그룹명"></select>
	                  </td>
	                  <td colspan="2"></td>
	               </tr>
				</table>
			</form>	
			<div class="tt-info-box"><p class="tt-info-txt">서버 초기 비밀번호는 "<em>사용자ID + 1!</em>" 입니다.</p></div>
		</div>
	</div>			
	<!-- 서버 상세정보 다이얼로그 끝 -->
	
	
	<!-- 도움말 레이어 -->
	<div class="tt-drop-box" id="divHelpUnauth">
		<h6>생성제한 안내</h6>
		<ul class="tt-list-dot">
			<li>관리자가 계정을 생성할 수 있는 최대 건수입니다.</li>
		</ul>
		<div class="tt-info-txt">제한된 건수 이상의 계정이 필요한 경우,<br/>한국클라우드에 문의해 주시기 바랍니다.</div>
		<div class="tt-btn-area is-border-top">
			<button type="button" class="tt-btn">확인</button>
		</div>
	</div>
	<!-- 도움말 레이어 -->

	

</body>
</html>


TalkMngServer.js
/********************************************************************************
* @classDescription 서버관리 (TalkMngServer)
* @author HANKOOK Corp.
* @version 1.0
* -------------------------------------------------------------------------------
* Modification Information
* Date              Developer           Content
* ----------        -------------       -------------------------
* 2017/08/07        이건철              신규생성
* -------------------------------------------------------------------------------
* Copyright (C) 2017 by HANKOOK Corp. All rights reserved.
*********************************************************************************/

/********************************************************************************
 * Global Variable : 스크립트 영역에서 모두 접근할 수 있는 전역변수를 해당 영역에 모두 정의한다.
 ********************************************************************************/
//var mstrDatePattern = $.getSvrDatePattern("%Y/%m/%d");      //회원정보 조회시 세팅되는 날짜(현재서버날짜)
var mstrDate = $.getSvrDate("%Y/%m/%d");									  //현재서버날짜

/********************************************************************************
 * Document Ready : jquery에서 제공하는 함수를 이용하여 화면이 로드될 때 처리할 함수를 정의한다.
 ********************************************************************************/
function domReady(){
   
   TalkMngServer.initPage();   //페이지 초기화 처리
   TalkMngServer.defineEvent();   //이벤트 정의
}

$(window).on("beforeunload",function(){
   //윈도우 종료전 처리
});

/**
 * 클래스 구조의 스크립트 구조체 오브젝트 명을 정의한다.
 * 스크립트를 클래스 기반의 구조체로 정의하기 위해 해당 JavaScript의 클래스명은 파일명으로 정의한다.
 * @classDescription :
 */
var TalkMngServer={
/********************************************************************************
 * InitPage Function : 화면이 초기 로드 시점에 처리할 사항을 정의한다.
 ********************************************************************************/
   initPage:function(){
      this.defineGrid();      //그리드 디자인
      this.defineForm();      //레이어 폼 화면 디자인
      this.makeTab();         //탭화면 디자인
      this.makeTreeView();   //트리뷰 디자인
      this.makeComboBox();   //콤보박스 디자인
      this.initData();      //초기데이터설정
   },

//-------------------------------------------------------------------------------
// GRID: 그리드 구성을 위한 함수 정의 [기본함수명:defineGrid + (구분단어)]
//-------------------------------------------------------------------------------
   defineGrid:function(){
      /**
       * 상담이력 그리드 설정
       */
      $("#divGrid01").dhxGrid({
         height: 715,   //그리드 높이
         ratio:false,   //퍼센트 너비 설정여부 (Default : false)
         editDiv : "C",
         colNames:["고객사", "시스템명","서버종류","OS유형","OS버전","WAS 유형","WAS 버전","물리 서버 IP 정보","활성화 여부"
				],
          colModel:[
              {name:"CLIENT_NAME"        	,index:"CLIENT_NAME"         	,width:110      ,align:"center" ,hidden:false  	,sort:true   	,excel:true},   //고객사
              {name:"SYSTEM_NAME"               ,index:"SYSTEM_NAME"            	,width:80      	,align:"center" ,hidden:false   ,sort:true 		,excel:true},   //시스템명
              {name:"SERVER_TYPE"               ,index:"SERVER_TYPE"            	,width:75      	,align:"center" ,hidden:false   ,sort:false 	,excel:true},   //서버종류
              {name:"OS_TYPE"            	,index:"OS_TYPE"            	,width:120      ,align:"center" ,hidden:false  	,sort:true   	,excel:true},   //OS유형
              {name:"OS_VERSION"           ,index:"OS_VERSION"         	,width:110      ,align:"left"   ,hidden:false  	,sort:true   	,excel:true},   //OS버전
              {name:"WAS_TYPE"           ,index:"WAS_TYPE"         	,width:130      ,align:"left"   ,hidden:false  	,sort:true   	,excel:true},   //WAS유형
			  {name:"WAS_VERSION"           ,index:"WAS_VERSION"         	,width:130      ,align:"left"   ,hidden:false  	,sort:true   	,excel:true},   //WAS버전
              {name:"SERVER_IP"               ,index:"SERVER_IP"            	,width:110      ,align:"left"   ,hidden:false  	,sort:false  	,excel:true},   //물리서버IP정보
              {name:"USE_YN"            	,index:"USE_YN"            	,width:110      ,align:"left"   ,hidden:false  	,sort:false  	,excel:true},   //활성화여부
              
              ],
         
         alwaysCallClick:false,   // 행클릭시 호출여부
         //enableExportExcl:true,
         onClickData:function(intRowIdx, strRowId, objRowData, strColName, intCellIdx, strCellValue){
            TwbTalkConsHistMgmt.detailRtn(objRowData);   //상담이력 상세정보 세팅
         },
         onDblClickData:function(intRowIdx, strRowId, objRowData, strColName, intCellIdx, strCellValue){
         },
         //onChangedEditCell:function(changedObj, intRowIdx, strRowId, objRowData, strColName, intCellIdx, strCellValue){
          //  TwbTalkConsHistMgmt.openTalkView(objRowData);   //과거 내용을 본다.
         //},
         completion : function(agCount){
         },
         
         multiselect   : false,
         pager: true,
         rowList: [50, 100, 200, 300],
         rowNum:200,
         rownumbers: true,                //줄번호 보이기
         statusBar:false,                  //상태바 표출
         statusMsg:"건의 서버목록이 검색되었습니다.",
         emptyrecords:"조회조건에 해당하는 서버목록이 존재하지 않습니다.",
         enableExportExcl:true            //그리드 엑셀 내려받기
      });

   },

//-------------------------------------------------------------------------------
// LAYER FORM PAGE: 단위 폼 구성을 위한 함수 정의  [기본함수명:defineForm + (구분단어)]
	defineForm:function(){
		//사용자 신규등록 다이얼로그
		$( "#divUserRegDialog" ).dhxWindow({
			text:"사용자정보 신규등록",
			width: 600,
			height:370,
			modal: true,
			open: function(){
			},
			buttons: [
				{
					id    : "btnSave01",
					text  : "저장",
					click : function(){
						$("#DATA_FLAG").valExt(TWB_CONST.TRANS_INS);
						TwbBas01.processRtn();
					}
				}
			],
			close: function(){
				$.setFormDataClear(serRegist);	//데이터클리어
			}
		});
		
		//사용자 상세정보 다이얼로그
		$( "#divUserDetailDialog" ).dhxWindow({
			text:"사용자 상세정보",
			width: 600,
			height:440,
			modal: true,
			open: function(){
			},
			buttons: [
				{
					id    : "btnReset",
					text  : "비밀번호 초기화",
					btn_class  : "is-sub",
					click : function(){
						TwbBas01.processPwdReset();
					}
				},
				{
					id    : "btnUnLock",
					text  : "잠금 해제",
					btn_class  : "is-fill",
					click : function(){
						TwbBas01.processPwdUnLock();
					}
				},
				{
					id    : "btnSave02",
					text  : "저장",
					click : function(){
						$("#DATA_FLAG").valExt(TWB_CONST.TRANS_UPD);
						TwbBas01.processRtn();
					}
				}
			],
			close: function(){
				$.setFormDataClear(serDetail);	//데이터클리어
			}
		});
	},	
//-------------------------------------------------------------------------------
// TAB: 탭버튼 구성을 위한 함수 정의 [기본함수명:makeTab + (구분단어)]
//-------------------------------------------------------------------------------
   makeTab:function(){
   },
//-------------------------------------------------------------------------------
// TREE VIEW: 트리뷰 구성을 위한 함수 정의 [기본함수명:makeTreeView + (구분단어)]
//-------------------------------------------------------------------------------
   makeTreeView:function(){
   },
//-------------------------------------------------------------------------------
// COMBO BOX: 콤보박스 구성을 위한 함수 정의 [기본함수명:makeComboBox + (구분단어)]
//-------------------------------------------------------------------------------
   makeComboBox:function(){
      var objComboData = $.getCodeData("SVTYPE,TWB001,OSTYPE,WASTYPE"); //공통코드 데이터 가져오기
      
     //공통코드 콤보박스 데이터 바인딩
		$.loadDataComboBox("frmSearch.SERVER_TYPE", mobjComboData.getDataObject("SVTYPE"), "전체", "");		//서버종류
		$.loadDataComboBox("serRegist.USE_YN", mobjComboData.getDataObject("TWB001"), "전체", "");		//활성화 여부
		$.loadDataComboBox("serDetail.OS_TYPE", mobjComboData.getDataObject("OSTYPE"), "전체", "");					//OS 여부
		$.loadDataComboBox("serDetail.WAS_TYPE", mobjComboData.getDataObject("WASTYPE"), "전체", "");   //WAS 유형
      
      //검색조건 콤보박스 셋팅
      $.loadDataComboBox("frmSearch.SERVER_TYPE"   , objComboData.getDataObject("SVTYPE"), "전체", "");   //서버종류
      $.loadDataComboBox("frmSearch.USE_YN"   , objComboData.getDataObject("TWB001"), "전체", "");         //활성화 여부
      $.loadDataComboBox("frmSearch.OS_TYPE"   , objComboData.getDataObject("OSTYPE"), "전체", "");      //OS 유형
      $.loadDataComboBox("frmSearch.WAS_TYPE"   , objComboData.getDataObject("WASTYPE"), "전체", "");      //WAS 유형
      
	  //권한그룹정보 서버종류 콤보박스 데이터 조회 및 바인딩
		SVTYPE.loadAuthGroupComboData();
		
		//권한그룹정보 활성화여부 콤보박스 데이터 조회 및 바인딩
		TWB001.loadAuthGroupComboData();
		
		//OS유형 조회조건 콤보박스 데이터 조회 및 바인딩
		OSTYPE.loadAtrtGroupCdComboData();	
		
		//WAS유형 콤보박스 로드
		WASTYPE.makeComboBoxAttr();
	},	
	
	// @@@@@@@@ 여기를 채워야 한다.
	
		
		

      // TalkCommon.inqryTypLoadDataComboBox("SRH_INQRY_TYP_CD", "*", "전체");   //검색조건 문의유형1 콤보박스 세팅
      // TalkCommon.inqryTypLoadDataComboBox("SRH_INQRY_TYP_CD_2", $("#SRH_INQRY_TYP_CD").val(), "전체"); //검색조건 문의유형2  콤보박스 세팅
      // TalkCommon.cnslTypLoadDataComboBox("SRH_CNSL_TYP_CD", "*", "전체");   //검색조건 상담유형1 콤보박스 세팅
      // TalkCommon.cnslTypLoadDataComboBox("SRH_CNSL_TYP_CD_2", $("#SRH_CNSL_TYP_CD").val(), "전체"); //검색조건 상담유형2 콤보박스 세팅
      
      //@@@@@@@@@@@@@ TalkCommon. 이 부분이 어디로 연결되는지? SRH_INQRY_TYP_CD 이부분 -> 이건 해결완료
  	
//-------------------------------------------------------------------------------
// LOAD_DATA: 초기데이터 로드를 위한 함수 정의 [기본함수명:initData + (구분단어)]
//-------------------------------------------------------------------------------
	initData:function(){
		//공통을 이용하여 시간 데이터를 설정한다
		$.setFromToDate("LAST_LOGIN_DT_FROM", "LAST_LOGIN_DT_TO", "ALL", mstrDatePattern);
		//메시지 dhtmlx팝업 생성
		mobjDhxMsgPop = new dhtmlXPopup();
		mobjDhxMsgPop.attachEvent("onShow", function(){
			setTimeout(function(){
				mobjDhxMsgPop.hide();
			}, 5000);
		});
		mobjDhxMsgPop.attachEvent("onBeforeHide", function(type, ev, id){
		    return false;
		});
		//자동조회
		TalkMngServer.selectRtn();
	},	
	
/********************************************************************************
 * Event Object : 화면에 디자인 된 버튼 및 오브젝트 이벤트와 호출할 함수를 정의한다.
 ********************************************************************************/
	defineEvent:function(){
		$("#btnSearch").click(function(e){TalkMngServer.selectRtnAspCustList();});	//서버관리 조회
		$("#btnNew").click(function(e){TalkMngServer.newRtn();});					//서버 신규등록팝업
		$("#btnDetail").click(function(e){TalkMngServer.detailRtn();});			//서버 상세팝업
		$("#btnDelete").click(function(e){TalkMngServer.deleteRtn()});				//서버 비활성화
		
		
		$("#USER_ID, #USER_NM, #USER_NICK",frmSearch).keypress(function(e){
        	if(e.keyCode === ENTER_EVENT){
        		TwbBas01.selectRtn();
        		return false;
        	}
        });																		//사용자정보(ID, 이름, 닉네임) input 엔터 이벤트
		$("#CNNCT_IP",frmSearch).keypress(function(e){
			if(e.which == ENTER_EVENT){
				TwbBas01.selectRtn();
				return false;
			}
		
		});																		//접속IP조회조건ENTER 이벤트
		
		$("#HP_NO").change(function(e){TalkMngServer.checkHpNo(this);});				//핸드폰번호 입력 시 또는 변경 후 핸드폰 번호 형식 체크
		
		$("#USER_ID",serRegist).blur(function(e){
			if (!TalkMngServer.validationId(serRegist, "#USER_ID")){
				return false;
			}
			if(!TalkMngServer.chkIdSpecialChar(serRegist,"#USER_ID")){
				return false;
			}
		});
		
		$("#btnHelpUnauth").click(function(e){
			TwbStyle.showDropBox('#divHelpUnauth','top','left');
		});
	},
	
	validationId:function(FORMID, IDINPUT){
		if($(IDINPUT,FORMID).valExt().length < 1){
			return true;
		}
		//5글자이상, 15글자이하 체크
		if($(IDINPUT,FORMID).valExt().length < 5 || $(IDINPUT,FORMID).valExt().length > 15){
			TwbMsg("사용자 아이디는 5글자 이상 15글자 이하로 입력해야 합니다.", "E");
			return false;
		}

		//한글사용여부 체크
		let regKor = /^[A-Za-z0-9+]*$/;
		if (!regKor.test($(IDINPUT,FORMID).valExt())){
			TwbMsg("사용자 아이디는 영문자, 숫자만 사용할 수 있습니다.", "E");
			return false;
		}
		
		//영문자 시작 체크
		let regExp = /^[A-za-z]/g;

		//ABL생명은 사번이 아이디임
//		if(!regExp.test($(IDINPUT,FORMID).valExt())){
//			TwbMsg("사용자 아이디는 영문자로 시작되어야 합니다.", "E");
//			return false;
//		}
		
		return true;
	},
	
	//특수문자 포함 여부 확인
	chkIdSpecialChar:function(FORMID, IDINPUT){
		if($(IDINPUT,FORMID).valExt().length < 1){
			return true;
		}
		//특수문자검증start
		let regExp=/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi;
		if(regExp.test($(IDINPUT,FORMID).valExt())){
		//특수문자제거 var t=str.replace(regExp,"")
			TwbMsg("사용자 아이디는 특수 문자를 사용할 수 없습니다.", "E");
			return false;
		}
		return true;
	},
	
/********************************************************************************
 * Main Functions: 화면상에 주요 기능을 처리하는 함수를 정의한다.
 ********************************************************************************/
//-------------------------------------------------------------------------------
// NEW: 신규 데이터 처리에 대한 함수 정의 [기본함수명:newRtn + (구분단어)]
//-------------------------------------------------------------------------------
 newRtn:function(){
		//데이터 유효성 체크
		if(!TalkMngServer.validationNew()){return;}
		$("#divServerrRegDialog").openDhxWindow();
	},
	validationNew:function(){
		var intServTotCnt = parseInt($("#SERV_TOT_COUNT").text());	//전체이용계정
		var intAccountCreationLimit = parseInt($("#ACCOUNT_CREATION_LIMIT").text());	//계정생성제한건수
		if(intAccountCreationLimit > intServTotCnt)
		{
			return true;
		}
		TwbMsg("더 이상 계정을 신규로 생성할 수 없습니다.", "W");
		return false;
	},
//-------------------------------------------------------------------------------
// SELECT: 조회 데이터 처리에 대한 함수 정의 [기본함수명:selectRtn + (구분단어)]
//-------------------------------------------------------------------------------
	/**
	 * 
	 */
	selectRtn:function(strUserID, selectGroup){

		var strSelectGroup = selectGroup || '';

		if(typeof(strUserID) === "undefined"){strUserID = "";}
		//조회시 필수 입력키 체크
		if(!TalkMngServer.validationSelect()){return;}
		
		//조회전 사용자현황 그리드 초기화.
		$("#divGrid01").initGrid();
		//서버에 전송할 JSON객체를 생성한다.
		var objJsonParams = new TelewebJson();
		objJsonParams.setService("TalkMngServer");											//비즈니스로직의 클래스 ID 정의
		objJsonParams.setMethod("selectRtnUserInfo");									//호출할 함수 정의
		objJsonParams.setDataObject(G_DATA, $.getFormData("frmSearch", false));			//조회조건 파라메터 세팅
		objJsonParams.setData("SORT_ORDR", $('input[name="rdoOrder"]:checked').valExt(), 0); 
		//결과 데이터 바인딩할 그리드ID 세팅.
		objJsonParams.setGridId("divGrid01");
		objJsonParams.setData("A_USER_ID", strUserID, 0, G_DATA);						//사용자ID 키 정보가 존재할 시 자동으로 그리드 로우 ACTIVE시키기 위한 파라메터 세팅.

		//조회그룹
		if(strSelectGroup == 'manager')
		{
			objJsonParams.setData("SEARCH_GROUP", "manager");	//관리자, 매니
		}
		else if(strSelectGroup == 'agent')
		{
			objJsonParams.setData("SEARCH_GROUP", "agent");	//상담
		}

		//서비스 호출하여 결과값 받는다.
		var objJsonReturn = $.bizServiceCall(objJsonParams);
		//정상처리여부확인
		if(!objJsonReturn.getErrorFlag()){
			TalkMngServer.setServInfo(objJsonReturn.getDataObject("SERVICE_INFO"));
		} else {
			//에러발생시 해당 에러메시지 표출
			TwbMsg(objJsonReturn.getMsg(),"E");
		}
		//명시적객체해제
		objJsonParams=null;
		objJsonReturn=null;
	},
	validationSelect:function(){
		var blnRetVal = true;
		//조회권한체크
		if($("#btnSearch").is(":disabled")){return false;}
		//전체검색 허용으로 필수 키 체크가 없음
		
		//날짜FROM ~ TO 체크
		if($("#LAST_LOGIN_DT_FROM").valExt() !== "" && $("#LAST_LOGIN_DT_TO").valExt() !== ""){
			if(!$.checkFromToDate($("#LAST_LOGIN_DT_FROM").valExt(), $("#LAST_LOGIN_DT_TO").valExt())){return false;}
		}
		return blnRetVal;
	},
	
	//사용자 상세정보 조회
	selectRtnDetail:function(){
		//선택된 ROW 사용자정보 존재여부 확인.
		var jsonActiveRowData = $("#divGrid01").getSelectRowData();
		
		if(!TalkMngServer.validationActiveRow(jsonActiveRowData)){return;}
		//서버에 전송할 파라메터객체 생성
		var objJsonParams = new TelewebJson();
		objJsonParams.setService("TalkMngServer");											//비즈니스로직의 클래스 ID 정의
		objJsonParams.setMethod("selectRtnUserDetailInfo");								//호출할 함수 정의
		objJsonParams.setData("USER_ID", jsonActiveRowData.USER_ID);					//조회조건 파라메터 세팅
		//서비스 호출하여 결과값 받는다.
		var objJsonReturn = $.bizServiceCall(objJsonParams);
		
		//정상처리여부확인
		if(!objJsonReturn.getErrorFlag()){
			if(objJsonReturn.getCount() == 1){
				$.setFormData(objJsonReturn, G_DATA, "serDetail");
				$("#ATRT_GROUP_NM").valExt(objJsonReturn.getData("ATRT_GROUP_ID"));
				$("#divUserDetailDialog").openDhxWindow();
			}
		}else{
			//에러발생시 해당 에러메시지 표출
			TwbMsg(objJsonReturn.getMsg(), "E");
		}
		//명시적객체해제
		objJsonParams = null;
		objJsonReturn = null;
	},
	
	//그리드 선택된 ROW 존재여부 체크
	validationActiveRow:function(jsonActiveRowData){
		var blnRetVal = true;
		//사용자현황 그리드 로우가 체크 선택되었는지 체크
		if(jsonActiveRowData === null){
			TwbMsg(TWB_MSG.SELECT_OBJECT_NO_EXIST, "W");
			blnRetVal = false;
			return blnRetVal;
		}
		//개발자가 추가로 정의한 데이터 체크
		
		return blnRetVal;
	},	
	
	//권한그룹 정보를 조회하여 조회조건 콤보박스에 로드한다.
	loadAuthGroupComboData:function(){
		//서버에 전송할 파라메터객체 생성
		var objJsonParams = new TelewebJson();
		objJsonParams.setService("TwbBas06");		//서비스명 세팅
		objJsonParams.setMethod("selectRtnAuthGroup");
		//서비스 호출하여 결과값을 받는다.
		var objJsonReturn = $.bizServiceCall(objJsonParams);
		//정상처리여부확인
		if(!objJsonReturn.getErrorFlag()){
			//결과 데이터가 존재할 시 권한그룹정보 조회조건 콤보박스 데이터 바인딩
			if(objJsonReturn.getCount() > 0){
				$.loadDataComboBox("frmSearch.ATRT_GROUP_ID", objJsonReturn.getDataObject(), "전체", "");
			}
		}else{
			//에러발생시 해당 에러메시지 표출
			TwbMsg(objJsonReturn.getMsg(), "E");
		}
		//명시적객체해제
		objJsonParams = null;
		objJsonReturn = null;
	},
	
	//사용자 등록 권한그룹 정보를 조회하여 조회조건 콤보박스에 로드한다.
	loadAtrtGroupCdComboData:function(){
		//서버에 전송할 파라메터객체 생성
		var objJsonParams = new TelewebJson();
		objJsonParams.setService("TwbBas06");		//서비스명 세팅
		objJsonParams.setMethod("selectRtnAtrtGroupCd");
		//서비스 호출하여 결과값을 받는다.
		var objJsonReturn = $.bizServiceCall(objJsonParams);
		//정상처리여부확인
		if(!objJsonReturn.getErrorFlag()){
			//결과 데이터가 존재할 시 권한그룹정보 조회조건 콤보박스 데이터 바인딩
			if(objJsonReturn.getCount() > 0){
				$.loadDataComboBox("serRegist.ATRT_GROUP_CD", objJsonReturn.getDataObject(), "선택", "");
				$.loadDataComboBox("serDetail.ATRT_GROUP_NM", objJsonReturn.getDataObject(), "선택", "");
				
			}
		}else{
			//에러발생시 해당 에러메시지 표출
			TwbMsg(objJsonReturn.getMsg(), "E");
		}
		//명시적객체해제
		objJsonParams = null;
		objJsonReturn = null;
	},

	/**
	 * ASP고객 서비스정보를 세팅한다.
	 */
	setServInfo : function(arrJsonServiceInfo) {
		
		if(typeof(arrJsonServiceInfo[0]) === "undefined")
		{
			console.log("error : arrJsonServiceInfo is empty");
			return false;
		}
		
		var strLeftServDate = arrJsonServiceInfo[0].LEFT_SERV_DATE || '';	//남은기간
		var strProductCd = arrJsonServiceInfo[0].PRODUCT_CD || '';				//서비스코드
		var strServEndDate = arrJsonServiceInfo[0].SERV_END_DATE || '';		//이용종료기간
		var strServAgentCnt = arrJsonServiceInfo[0].SERV_AGENT_COUNT || 0;	//상담사 이용계정
		var strServManagerCnt = arrJsonServiceInfo[0].SERV_MANAGER_COUNT || 0;	//관리자 이용계정
		var strServCharge = arrJsonServiceInfo[0].SERV_CHARGE || '';	//결제금액
		var strAccountCreationLimit = arrJsonServiceInfo[0].ACCOUNT_CREATION_LIMIT || '';	//계정생성제한건수
		
		//이용기간
		if (strLeftServDate != '')
		{
			if (strProductCd == 'TRIAL')
			{
				$("#LEFT_SERV_DATE_NOTICE").valExt('(유료까지 '+strLeftServDate+'일 남음)');
			}
		}
		
		//이용종료기간
		if(strServEndDate == '0000-00-00' || strServEndDate == '')
		{
			$("#SERV_END_DATE").valExt('');
		}
		
		//상담사 이용계정
		$("#SERV_AGENT_COUNT").valExt(strServAgentCnt);
		
		//관리자 이용계정
		$("#SERV_MANAGER_COUNT").valExt(strServManagerCnt);
		
		//전체 이용계정
		$("#SERV_TOT_COUNT").valExt(parseInt(strServAgentCnt) + parseInt(strServManagerCnt));
		
		//계정생성제한건수
		$("#ACCOUNT_CREATION_LIMIT").valExt(strAccountCreationLimit);
	},
//-------------------------------------------------------------------------------
// PROCESS: 처리 데이터 (데이터 신규, 데이터 수정)에 대한 함수 정의 [기본함수명:processRtn + (구분단어), insertRtn + (구분단어),updateRtn + (구분단어)]
//-------------------------------------------------------------------------------
	processRtn:function(){
		var dataFlag = $("#DATA_FLAG").valExt();
		//데이터 유효성 체크
		if(!TalkMngServer.validationProcess()){return;}
		
		if (!TalkMngServer.validationId(serRegist, "#USER_ID")){
			return false;
		}
		if(!TalkMngServer.chkIdSpecialChar(serRegist,"#USER_ID")){
			return false;
		}
		
		TwbMsg("저장하시겠습니까?", "C", function(isConfirm){
			if(isConfirm){				
				var formID = "serRegist";
				if(dataFlag === TWB_CONST.TRANS_UPD){formID = "serDetail";}

				//password 암호화 키 생성을 서버에 요청하여 생성된 키 정보를 가져온다.
				var strEncryptKey = getEncryptKey();
				if(strEncryptKey === ""){return;}
								
				//서버에 전송할 JSON객체를 생성한다.
				var objJsonParams = new TelewebJson();
				objJsonParams.setService("TwbBas01");													//비즈니스로직의 클래스 ID 정의
				objJsonParams.setMethod("processRtn");													//호출할 함수 정의
				objJsonParams.setDataObject(G_DATA, $.getFormData(formID,false));						//등록 및 수정할 사용자정보 파라메터 세팅
				objJsonParams.setData("DATA_FLAG"	,dataFlag			 ,0	,G_DATA);					//데이터 처리구분 세팅
				objJsonParams.setData("PROC_ID"		,Session.getUserID() ,0	,G_DATA);					//처리자 세션정보 세팅
				
				//생성된 암호화 키 정보를 사용하여 ID와 password필드값을 AES 256byte 알고리즘을 이용하여 암호화한다.
				let strPassWD = objJsonParams.getData("USER_ID")
				//GibberishAES.size(128);
				let encPassWD = GibberishAES.aesEncrypt(strPassWD, strEncryptKey);
				objJsonParams.setData("PWD"		, encPassWD ,0	,G_DATA);					//패스워드 셋팅

				if(dataFlag === TWB_CONST.TRANS_INS){
					objJsonParams.setData("REGR_DEPT_CD"	,Session.getDeptCode() 	,0	,G_DATA);		//등록자 세션정보 세팅
					objJsonParams.setData("REGR_ID"			,Session.getUserID() 	,0	,G_DATA);		//등록자 세션정보 세팅
					objJsonParams.setData("REGR_DTTM"		,"SYSDATE"			 	,0	,G_DATA);		//등록자 세션정보 세팅
				}else if(dataFlag === TWB_CONST.TRANS_UPD){
					objJsonParams.setData("AMDR_DEPT_CD"	,Session.getDeptCode() 	,0	,G_DATA);		//수정자 세션정보 세팅
					objJsonParams.setData("AMDR_ID"			,Session.getUserID() 	,0	,G_DATA);		//수정자 세션정보 세팅
					objJsonParams.setData("UPD_DTTM"		,"SYSDATE"			 	,0	,G_DATA);		//수정자 세션정보 세팅
				}
				
				//서비스 호출하여 결과값 받는다.
				var objJsonReturn = $.bizServiceCall(objJsonParams);
				//정상처리여부확인
				if(!objJsonReturn.getErrorFlag()){
					//데이터 처리구분에 따른 결과메시지
					var strRsltMsg = COM_MSG.REG_OK;
					var dialogID = "divServerRegDialog";
					if(dataFlag == TWB_CONST.TRANS_UPD){
						strRsltMsg = COM_MSG.UPT_OK;
						dialogID = "divServerDetailDialog";
					}
					TwbMsg(strRsltMsg, "S");
					$("#" + dialogID).closeDhxWindow();
					//사용자ID 키 정보로 재조회
					TalkMngServer.selectRtn(objJsonParams.getData("USER_ID"));
				}else{
					//에러발생시 해당 에러메시지 표출
					TwbMsg(objJsonReturn.getMsg(),"E");
				}
				//명시적객체해제
				objJsonParams = null;
				objJsonReturn = null;
			}
		});
	},
	
	//2018.11.07 kmg 패스워드 초기화
	//2019.01.24 lsm 패스퉈드 초기화 수정
	processPwdReset:function(){

		var objJsonParams = new TelewebJson();
		objJsonParams.setService("TalkMngServer");
		objJsonParams.setMethod("updatePasswordReset");
		objJsonParams.setDataObject(G_DATA, $.getFormData("serDetail",false));
		objJsonParams.setData("PROC_ID", Session.getUserID() ,0	,G_DATA);

		//password 암호화 키 생성을 서버에 요청하여 생성된 키 정보를 가져온다.
		var strEncryptKey = getEncryptKey();
		if(strEncryptKey === ""){return;}
		
			//생성된 암호화 키 정보를 사용하여 ID와 password필드값을 AES 256byte 알고리즘을 이용하여 암호화한다.
		let strPassWD = objJsonParams.getData("USER_ID")
		let encPassWD = GibberishAES.aesEncrypt(strPassWD, strEncryptKey);
		objJsonParams.setData("NEW_PWD", encPassWD);

		objJsonParams.setData("BIZ_DIV", "RESETPWD");
		objJsonParams.setData("PWD_STATUS", "RESET");

		var objJsonReturn = $.bizServiceCall(objJsonParams);

		if(!objJsonReturn.getErrorFlag())
		{
			TwbMsg(COM_MSG.RESET_PWMSG, "S");
			$("#divServerDetailDialog").closeDhxWindow();
			//사용자ID 키 정보로 재조회
			TalkMngServer.selectRtn(objJsonParams.getData("USER_ID"));
		} 
		else
		{
			TwbMsg(objJsonReturn.getMsg(),"E");
		}
		//명시적객체해제
		objJsonParams = null;
		objJsonReturn = null;
	},
	
	//2019.04.15 모빌리티 비밀번호 잠금 해제
	processPwdUnLock:function(){
		
		var objJsonParams = new TelewebJson();
		objJsonParams.setService("TalkMngServer");
		objJsonParams.setMethod("updatePasswordUnLock");
		objJsonParams.setDataObject(G_DATA, $.getFormData("serDetail",false));
		objJsonParams.setData("PROC_ID", Session.getUserID() ,0	,G_DATA);
		//objJsonParams.setData("NEW_PWD", $("#USER_ID", serDetail).valExt());

		objJsonParams.setData("BIZ_DIV", "RESETPWD");
		objJsonParams.setData("PWD_STATUS", "NORMAL");

		var objJsonReturn = $.bizServiceCall(objJsonParams);

		if(!objJsonReturn.getErrorFlag())
		{
			TwbMsg(COM_MSG.UNLOCK_PWMSG, "S");
			$("#divServerDetailDialog").closeDhxWindow();
			//사용자ID 키 정보로 재조회
			TalkMngServer.selectRtn(objJsonParams.getData("USER_ID"));
		} 
		else
		{
			TwbMsg(objJsonReturn.getMsg(),"E");
		}
		//명시적객체해제
		objJsonParams = null;
		objJsonReturn = null;
	},
	processRtnCall:function(){
	},
	validationProcess:function(){
		var blnRetVal = true;
		//프레임워크에서 제공한 기본 데이터 체크
		var formID = "serRegist";
		if($("#DATA_FLAG").valExt() === TWB_CONST.TRANS_UPD){formID = "serDetail";}
		if(!$.checkDataValidation(formID)){
			return false;
		}
		if($("#DATA_FLAG").valExt() === TWB_CONST.TRANS_INS){
			if(!TalkMngServer.chkDupleUserID()){
				return false;
			}
		}
		
		return blnRetVal;
	},
	validationUpdatePwd:function(){
		//프레임워크에서 제공한 기본 데이터 체크
		if(!$.checkDataValidation("serRegist")){return false;}
		// 8글자이상, 16글자이하 체크
		if($("#PWD",serRegist).valExt().length < 8 || $("#PWD",serRegist).valExt().length > 16){
			mobjDhxMsgPop.attachHTML("<p class='tt-info-txt is-red'>" + COM_MSG.USER_PWMSG_ERR_LENGTH + "</p>");
			mobjDhxMsgPop.show($("#PWD").offset().left, $("#PWD").offset().top, $("#PWD").width(), $("#PWD").height());
			return false;
		}
		//비밀번호 구조 (특수문자 + 영문 + 숫자) 체크
		if( $("#PWD",serRegist).valExt().replace(/[^a-z]/g, "") == "" ||
			$("#PWD",serRegist).valExt().replace(/[^A-Z]/g, "") == "" ||
			$("#PWD",serRegist).valExt().replace(/[^~!@\#$%<>^&*\()\-=+_\’]/g, "") == "" ||
			$("#PWD",serRegist).valExt().replace(/[^0-9]/g, "") == "" )
		{
			mobjDhxMsgPop.attachHTML("<p class='tt-info-txt is-red'>" + COM_MSG.USER_PWMSG_ERR_STRUCTURE + "</p>");
			mobjDhxMsgPop.show($("#PWD").offset().left, $("#PWD").offset().top, $("#PWD").width(), $("PWD").height());
			return false;
		}
		//특정 특수문자 체크
		var vanExp = /[\/?.;*<>&=\'\"]/gi;
		if(vanExp.test($("#PWD",serRegist).valExt())){
			//$("#dialogMessage").html(COM_MSG.USER_PWMSG_ERR_SPECIALCHAR);
			mobjDhxMsgPop.attachHTML("<p class='tt-info-txt is-red'>" + COM_MSG.USER_PWMSG_ERR_SPECIALCHAR + "</p>");
			mobjDhxMsgPop.show($("#PWD").offset().left, $("#PWD").offset().top, $("#PWD").width(), $("#PWD").height());
			return false;
		}
		//현재 비밀번호와 동일한 비밀번호로 변경하려고 하는지 여부 체크(신규 등록은 해당 체크 제외)
		
		//비밀번호확인이 일치하는지 체크
		if($("#PWD",serRegist).valExt() !== $("#CHK_PWD",serRegist).valExt()){
			mobjDhxMsgPop.attachHTML("<p class='tt-info-txt is-red'>" + COM_MSG.USER_PWMSG_NOT_MATCH + "</p>");
			mobjDhxMsgPop.show($("#CHK_PWD").offset().left, $("#CHK_PWD").offset().top, $("#CHK_PWD").width(), $("#CHK_PWD").height());
			return false;
		}		
		return true;
	},
	//사용자정보 신규등록 시 ID 중복여부 체크
	chkDupleUserID:function(){
		var blnRetVal = true;
		//서버에 전송할 파라메터객체 생성
		var objJsonParams = new TelewebJson();
		objJsonParams.setService("twb/tables/TWB_BAS01");						//XML파일경로 정의
		objJsonParams.setSqlName("SELECT_TWB_BAS01_PWD");							//SQLNAME 정의
		objJsonParams.setData("USER_ID", $("#USER_ID",serRegist).valExt());		//키 정보 파라메터 세팅
		//서비스 호출하여 결과값 받는다.
		var objJsonReturn = $.serviceCall(objJsonParams);
		//정상처리여부확인
		if(!objJsonReturn.getErrorFlag()){
			//결과정보가 존재할 시 중복된 ID가 존재한다고 판단되므로 해당 메시지 표출.
			if(objJsonReturn.getCount() > 0){
				TwbMsg("사용할 수 없습니다!", "W", undefined, $("#USER_ID",serRegist).valExt() + " 은(는) 이미 사용중");
				blnRetVal = false;
			}
		}else{
			//에러발생시 해당 에러메시지 표출
			TwbMsg(objJsonReturn.getMsg(), "E");
			blnRetVal = false;
		}
		//명시적객체해제
		objJsonParams = null;
		objJsonReturn = null;
		return blnRetVal;
	},
//-------------------------------------------------------------------------------
// DELETE: 삭제 데이터 처리에 대한 함수 정의 [기본함수명:deleteRtn + (구분단어)]
//-------------------------------------------------------------------------------
   deleteRtn:function(){
	},
//-------------------------------------------------------------------------------
// PRINT: 출력 및 레포트 데이터 처리에 대한 함수 정의 [기본함수명:printRtn + (구분단어)]
//-------------------------------------------------------------------------------
   printRtn:function(){
   },
//-------------------------------------------------------------------------------
// EXCEL: 엑셀 데이터 처리에 대한 함수 정의 [기본함수명:excelRtn + (구분단어)]
//-------------------------------------------------------------------------------
   excelRtn:function(){
   },

/********************************************************************************
 * User Functions: 별도 화면 처리를 위해 필요한 함수를 정의한다.
 ********************************************************************************/
   
   /**
	 * 문자입력 이벤트 적용
	 * @param e 입력받은 이벤트
	 */
	keypressEvent:function(e) {
		if(e.which == ENTER_EVENT){
			TwbTalkAspCustList.selectRtnAspCustList();
			return false;
		}
	},
	
	/**
	 * 팝업메시지 처리
	 */
	alterPopResult:function(retVal) {
		if (retVal) {
			
			var objJson = JSON.parse(retVal);
			
			TwbMsg(objJson.message, objJson.type);
			
			//재조회
			TwbTalkAspCustList.selectRtnAspCustList();
		}
	},
/********************************************************************************
 * function Sample
 ********************************************************************************/
   /**
    * Sample(해당 함수는 삭제하지 말고 그대로)
    */
   sample:function(){
      /*
      switch(strValue){
         case "caseA"   : ; break;
         case "caseB"   : ; break;
      }
      */
   }
   
};

/**
 * 팝업에서 전달받은 파라미터 처리
 * 크롬 팝업 처리
 * @param retVal
 * @returns
 */
function showModalDialogCallback(retVal) {
	
	if (retVal) {
		TwbTalkAspCustList.alterPopResult(retVal);
	}
}

